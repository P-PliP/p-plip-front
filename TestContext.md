# TestContext for Playwright Automation

이 문서는 프로젝트의 주요 기능을 Playwright로 테스트 자동화하기 위한 테스트 시나리오와 컨텍스트를 정의합니다.
**회원가입(이메일 인증 포함)은 테스트 범위에서 제외합니다.**

## 1. 테스트 환경 설정 (Prerequisites)
- **Base URL**: `http://localhost:5173` (Local Dev Environment)
- **Test Accounts**:
  - 테스트용 계정 (ID/PW)이 필요합니다. (예: `testuser@example.com` / `password123`)
  - 사전 조건: 테스트 시작 전, 해당 계정은 DB에 존재해야 합니다.
  - 관리자 계정 (공지사항 작성용)이 별도로 있다면 준비 필요.

## 2. 주요 기능 테스트 시나리오

### 2.1 인증 (Authentication)
*   **로그인 (Login)**
    1.  메인 화면 또는 마이페이지에서 로그인 버튼 클릭.
    2.  로그인 페이지 진입 (`/login`).
    3.  유효한 아이디와 비밀번호 입력.
    4.  로그인 버튼 클릭.
    5.  성공 시 메인 화면으로 리다이렉트 및 로그인 상태 확인 (토큰 저장 등).
*   **로그아웃 (Logout)**
    1.  로그인 상태에서 마이페이지(`MyInfoView`) 진입.
    2.  로그아웃 버튼 클릭.
    3.  확인 팝업(Confirm) 수락.
    4.  로그아웃 성공 메시지 및 메인 화면 이동 확인.

### 2.2 메인 화면 (Main View)
*   **화면 렌더링**
    1.  `MainView` 진입.
    2.  상단 헤더(나침반 아이콘 등).
    3.  "근처 관광지" 섹션 로딩 및 카드 리스트 표시 확인.
    4.  "지도로 보기" 버튼 클릭 -> 지도 화면(`/map`) 이동.
*   **AI 기능 가이드 진입**
    1.  메인 화면 하단 "AI 기능 가이드" 버튼 클릭.
    2.  가이드 페이지(`/ai-guide`) 렌더링 확인.

### 2.3 지도 및 검색 (Map & Search)
*   **지도 기능 (`AttractionMapView`)**
    1.  지도 화면 진입.
    2.  카테고리 필터 동작 확인.
    3.  **AI 챗봇**: 우측 하단 챗봇 버튼(ChatFab) 클릭.
        *   **주의**: AI 응답 대기 시간을 넉넉하게 설정 (최소 30초~60초).
        *   메시지 전송 -> 응답 수신 및 지도 마커 업데이트 확인.
*   **검색 화면 (`AttractionMapSearchView`)**
    1.  검색어 입력 및 결과 리스트 확인.
    2.  **UI 인터랙션**: 결과 목록 접기/펴기, 지도 하단 "더보기" 버튼 동작 확인.

### 2.4 랜덤 여행 (Roulette / Random Trip)
*   **돌림판 기능 (`RouletteView`)**
    1.  하단 네비게이션 "랜덤여행" 탭 클릭.
    2.  "지역 추첨 시작" 버튼 클릭.
    3.  **애니메이션 대기**: 룰렛 회전 애니메이션(약 3초) 대기.
    4.  결과 모달 표시 확인.
    5.  (로그인 상태일 때) 결과 모달 내 "AI 추천 받기" 버튼 클릭 -> AI 제안 로직 동작 확인.

### 2.5 여행 계획 (Trip Planning)
*   **계획 관리**
    1.  하단 네비게이션 "플랜" 탭 클릭.
    2.  새 계획 생성 및 상세 페이지 진입.
    3.  장소 검색/추가/메모 기능 확인.

### 2.6 커뮤니티 (Board / Community)
*   **게시판 목록 (`BoardListView`)**
    1.  하단 네비게이션 "커뮤니티" 탭 클릭.
    2.  공지사항 및 자유게시판 탭 전환 확인.
    3.  게시글 목록 렌더링 확인.
*   **게시글 상세 및 작성 (Free Board)**
    1.  **작성**: 글쓰기 버튼 클릭 -> 제목/내용 입력 -> 등록.
    2.  **상세**: 목록에서 글 클릭 -> 상세 페이지(`FreeBoardDetailView`) 진입 -> 내용 확인.
    3.  **수정/삭제**: 본인이 작성한 글에 대해 수정 및 삭제 동작 확인.
    4.  **댓글**: 댓글 작성 및 리스트 업데이트 확인.
*   **공지사항 (Notice Board)**
    1.  목록에서 공지사항 클릭 -> 상세 페이지(`NoticeBoardDetailView`) 진입 확인.
    2.  (관리자 권한 테스트 가능 시) 공지사항 작성/수정/삭제 확인.

### 2.7 마이페이지 (My Info)
*   **프로필 및 메뉴**
    1.  하단 네비게이션 "내정보" 탭 클릭.
    2.  프로필 정보 렌더링 및 서브 메뉴(내가 쓴 글 등) 링크 확인.

## 3. UI/UX 검증 포인트 & 주의사항
*   **AI 기능 테스트**:
    *   OpenAI 등 외부 API 연동 구간이므로 **매우 긴 Timeout 설정(60s 이상)** 권장.
    *   응답 실패 시 재시도 로직이나 예외 처리 UI가 뜨는지 확인.
*   **애니메이션 동기화**:
    *   룰렛(`RouletteView`) 등 애니메이션이 있는 구간은 `waitForTimeout` 또는 상태 변경(`isFinished`)을 감지하여 테스트 진행.
*   **Selectors**:
    *   Roulette Spin Button: `.spin-btn`
    *   AI Chat Button: `.chat-fab`
    *   Board Write Button: `.write-btn` (커뮤니티 화면)

## 4. 제외 항목 (Limitations)
*   회원가입 프로세스 검증 (이메일 인증).
